{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "$data_source",
        "enable": false,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "showIn": 0,
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "gnetId": null,
  "graphTooltip": 0,
  "id": 1,
  "iteration": 1622570895629,
  "links": [],
  "panels": [
    {
      "datasource": "$data_source",
      "description": "![Cisco UCS Architecture](/public/img/utm/ucs_architecture.png)\nUTM collector - v$utm_collector_ver  \nUTM GUI - v0.52  \nby Paresh Gupta",
      "fieldConfig": {
        "defaults": {},
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 97,
      "options": {
        "content": "<table style=\"margin: 0px; padding: 0px; border: 1px; border-collapse: collapse;\" width=\"100%\">\n<tbody>\n<tr style=\"margin: 0px; padding: 0px;\">\n<td style=\"width: 15%; margin: 0px; padding: 0px; border: none;\" valign=\"middle\"><img id='cisco_logo' style=\"display: block; margin-left: auto; margin-right: auto;\" src='/public/img/utm/cisco_logo.png' width=\"120\" />\n</td>\n<td style=\"width: 70%; margin: 0px; padding: 0px; border: none;\">\n<h2 style=\"text-align: center; margin: 2px;\"><span style=\"color: #0085FC;\"><strong>UTM - UCS Traffic Monitoring</strong></span></h2>\n<h5 style=\"text-align: center; margin: 0px;\"><span style=\"color: #6666FF;\">Monitoring <span style=\"color: #ff00ff;\">$num_domain</span> UCS domains containing <span style=\"color: #ff00ff;\">$num_chassis</span> chassis with <span style=\"color: #ff00ff;\">$num_servers</span>  servers across <span style=\"color: #ff00ff;\">$num_locations</span> locations</span></h5>\n</td>\n<td style=\"width: 15%; margin: 0px; border: none;\" valign=\"middle\"><img id='your_logo' style=\"display: block; margin-left: auto; margin-right: auto;\" src='/public/img/utm/your_logo.png' alt=\"\" width=\"120\"/>\n</td>\n</tr>\n</tbody>\n</table>",
        "mode": "html"
      },
      "pluginVersion": "7.5.7",
      "targets": [
        {
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "transparent": true,
      "type": "text"
    },
    {
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {},
        "overrides": []
      },
      "flowchartsData": {
        "flowcharts": [
          {
            "allowDrawio": false,
            "bgColor": null,
            "center": true,
            "csv": "## See more information for the syntax at https://drawio-app.com/import-from-csv-to-drawio/\n##\n## Example CSV. Use ## for comments and # for configuration.\n## The following names are reserved and should not be used (or ignored):\n## id, tooltip, placeholder(s), link and label (see below)\n##\n#\n## Node label with placeholders and HTML.\n## Default is '%name_of_first_column%'.\n#\n# label: %name%<br><i style=\"color:gray;\">%position%</i><br><a href=\"mailto:%email%\">Email</a>\n#\n## Node style (placeholders are replaced once).\n## Default is the current style for nodes.\n#\n# style: label;image=%image%;whiteSpace=wrap;html=1;rounded=1;fillColor=%fill%;strokeColor=%stroke%;\n#\n## Parent style for nodes with child nodes (placeholders are replaced once).\n#\n# parentstyle: swimlane;whiteSpace=wrap;html=1;childLayout=stackLayout;horizontal=1;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;\n#\n## Optional column name that contains a reference to a named style in styles.\n## Default is the current style for nodes.\n#\n# stylename: -\n#\n## JSON for named styles of the form {\"name\": \"style\", \"name\": \"style\"} where style is a cell style with\n## placeholders that are replaced once.\n#\n# styles: -\n#\n## Optional column name that contains a reference to a named label in labels.\n## Default is the current label.\n#\n# labelname: -\n#\n## JSON for named labels of the form {\"name\": \"label\", \"name\": \"label\"} where label is a cell label with\n## placeholders.\n#\n# labels: -\n#\n## Uses the given column name as the identity for cells (updates existing cells).\n## Default is no identity (empty value or -).\n#\n# identity: -\n#\n## Uses the given column name as the parent reference for cells. Default is no parent (empty or -).\n## The identity above is used for resolving the reference so it must be specified.\n#\n# parent: -\n#\n## Adds a prefix to the identity of cells to make sure they do not collide with existing cells (whose\n## IDs are numbers from 0..n, sometimes with a GUID prefix in the context of realtime collaboration).\n## Default is csvimport-.\n#\n# namespace: csvimport-\n#\n## Connections between rows (\"from\": source colum, \"to\": target column).\n## Label, style and invert are optional. Defaults are '', current style and false.\n## If placeholders are used in the style, they are replaced with data from the source.\n## An optional placeholders can be set to target to use data from the target instead.\n## In addition to label, an optional fromlabel and tolabel can be used to name the column\n## that contains the text for the label in the edges source or target (invert ignored).\n## The label is concatenated in the form fromlabel + label + tolabel if all are defined.\n## The target column may contain a comma-separated list of values.\n## Multiple connect entries are allowed.\n#\n# connect: {\"from\": \"manager\", \"to\": \"name\", \"invert\": true, \"label\": \"manages\", \\\n#          \"style\": \"curved=1;endArrow=blockThin;endFill=1;fontSize=11;\"}\n# connect: {\"from\": \"refs\", \"to\": \"id\", \"style\": \"curved=1;fontSize=11;\"}\n#\n## Node x-coordinate. Possible value is a column name. Default is empty. Layouts will\n## override this value.\n#\n# left: \n#\n## Node y-coordinate. Possible value is a column name. Default is empty. Layouts will\n## override this value.\n#\n# top: \n#\n## Node width. Possible value is a number (in px), auto or an @ sign followed by a column\n## name that contains the value for the width. Default is auto.\n#\n# width: auto\n#\n## Node height. Possible value is a number (in px), auto or an @ sign followed by a column\n## name that contains the value for the height. Default is auto.\n#\n# height: auto\n#\n## Padding for autosize. Default is 0.\n#\n# padding: -12\n#\n## Comma-separated list of ignored columns for metadata. (These can be\n## used for connections and styles but will not be added as metadata.)\n#\n# ignore: id,image,fill,stroke,refs,manager\n#\n## Column to be renamed to link attribute (used as link).\n#\n# link: url\n#\n## Spacing between nodes. Default is 40.\n#\n# nodespacing: 40\n#\n## Spacing between levels of hierarchical layouts. Default is 100.\n#\n# levelspacing: 100\n#\n## Spacing between parallel edges. Default is 40. Use 0 to disable.\n#\n# edgespacing: 40\n#\n## Name or JSON of layout. Possible values are auto, none, verticaltree, horizontaltree,\n## verticalflow, horizontalflow, organic, circle or a JSON string as used in Layout, Apply.\n## Default is auto.\n#\n# layout: auto\n#\n## ---- CSV below this line. First line are column names. ----\nname,position,id,location,manager,email,fill,stroke,refs,url,image\nEvan Miller,CFO,emi,Office 1,,me@example.com,#dae8fc,#6c8ebf,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-9-2-128.png\nEdward Morrison,Brand Manager,emo,Office 2,Evan Miller,me@example.com,#d5e8d4,#82b366,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-10-3-128.png\nRon Donovan,System Admin,rdo,Office 3,Evan Miller,me@example.com,#d5e8d4,#82b366,\"emo,tva\",https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-2-128.png\nTessa Valet,HR Director,tva,Office 4,Evan Miller,me@example.com,#d5e8d4,#82b366,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-3-128.png\n",
            "download": false,
            "editorTheme": "dark",
            "editorUrl": "https://www.draw.io",
            "enableAnim": true,
            "grid": false,
            "lock": true,
            "name": "Main",
            "scale": true,
            "tooltip": true,
            "type": "xml",
            "url": "http://<YourUrl>/<Your XML/drawio file/api>",
            "xml": "<mxGraphModel>\n    <root>\n        <mxCell id=\"U3Yb-M3iW0U3TkC6f_VT-0\"/>\n        <mxCell id=\"U3Yb-M3iW0U3TkC6f_VT-1\" parent=\"U3Yb-M3iW0U3TkC6f_VT-0\"/>\n        <mxCell id=\"qjMXR-8qFvfJkbGcyA1T-6\" value=\"\" style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=13;arcSize=50;fillColor=#CCFF99;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n            <mxGeometry y=\"558\" width=\"1220\" height=\"20\" as=\"geometry\"/>\n        </mxCell>\n        <mxCell id=\"locations_button\" value=\"Locations\" style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#0085FC;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n            <mxGeometry x=\"40\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n        </mxCell>\n        <mxCell id=\"qjMXR-8qFvfJkbGcyA1T-2\" value=\"UCS Domain Overview\" style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#676767;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n            <mxGeometry x=\"240\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n        </mxCell>\n        <mxCell id=\"qjMXR-8qFvfJkbGcyA1T-3\" value=\"UCS Domain Traffic\" style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#676767;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n            <mxGeometry x=\"440\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n        </mxCell>\n        <mxCell id=\"qjMXR-8qFvfJkbGcyA1T-4\" value=\"UCS Chassis Traffic\" style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#676767;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n            <mxGeometry x=\"640\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n        </mxCell>\n        <mxCell id=\"qjMXR-8qFvfJkbGcyA1T-5\" value=\"Server Traffic\" style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#676767;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n            <mxGeometry x=\"840\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n        </mxCell>\n        <mxCell id=\"locations\" value=\"\" style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=none;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n            <mxGeometry x=\"30\" y=\"558\" width=\"160\" height=\"20\" as=\"geometry\"/>\n        </mxCell>\n        <UserObject label=\"\" link=\"/d/Inte2EIWk/ucs-domain-overview\" id=\"domain_overview\">\n            <mxCell style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=none;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n                <mxGeometry x=\"230\" y=\"558\" width=\"160\" height=\"20\" as=\"geometry\"/>\n            </mxCell>\n        </UserObject>\n        <UserObject label=\"\" link=\"/d/W7LSukHWz/ucs-domain-traffic\" id=\"domain_traffic\">\n            <mxCell style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=none;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n                <mxGeometry x=\"430\" y=\"558\" width=\"160\" height=\"20\" as=\"geometry\"/>\n            </mxCell>\n        </UserObject>\n        <UserObject label=\"\" link=\"/d/KOM8ZHNWz/ucs-chassis-traffic\" id=\"chassis\">\n            <mxCell style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=none;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n                <mxGeometry x=\"630\" y=\"558\" width=\"160\" height=\"20\" as=\"geometry\"/>\n            </mxCell>\n        </UserObject>\n        <UserObject label=\"\" link=\"/d/Z0M_N1vWz/service-profile-stats\" id=\"servers\">\n            <mxCell style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=none;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n                <mxGeometry x=\"830\" y=\"558\" width=\"160\" height=\"20\" as=\"geometry\"/>\n            </mxCell>\n        </UserObject>\n        <mxCell id=\"3TAq4FZGmTNtiptqA514-0\" value=\"Congestion Monitoring\" style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=#676767;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n            <mxGeometry x=\"1040\" y=\"560\" width=\"140\" height=\"16\" as=\"geometry\"/>\n        </mxCell>\n        <mxCell id=\"ingress_congestion\" value=\"\" style=\"rounded=1;whiteSpace=wrap;html=1;spacing=0;strokeColor=none;fontColor=#FFFFFF;fontSize=10;arcSize=50;fillColor=none;\" parent=\"U3Yb-M3iW0U3TkC6f_VT-1\" vertex=\"1\">\n            <mxGeometry x=\"1030\" y=\"558\" width=\"160\" height=\"20\" as=\"geometry\"/>\n        </mxCell>\n    </root>\n</mxGraphModel>",
            "zoom": "100%"
          }
        ]
      },
      "format": "short",
      "graphId": "flowchart_96",
      "gridPos": {
        "h": 2,
        "w": 24,
        "x": 0,
        "y": 3
      },
      "id": 96,
      "newFlag": false,
      "pluginVersion": "7.1.0",
      "rulesData": {
        "rulesData": [
          {
            "aggregation": "current",
            "alias": "Locations",
            "colors": [
              "rgba(50, 172, 45, 0.97)"
            ],
            "column": "Time",
            "dateFormat": "YYYY-MM-DD HH:mm:ss",
            "decimals": 2,
            "eventData": [],
            "eventProp": "id",
            "eventRegEx": false,
            "gradient": false,
            "hidden": false,
            "invert": false,
            "linkData": [
              {
                "hidden": false,
                "linkOn": "a",
                "linkParams": false,
                "linkUrl": "/d/ri2OFp4Wz/locations?from=${__from}&to=${__to}",
                "pattern": "locations"
              }
            ],
            "linkProp": "id",
            "linkRegEx": true,
            "mappingType": 1,
            "metricType": "serie",
            "order": 1,
            "overlayIcon": false,
            "pattern": "FIEnvStats.last",
            "rangeData": [],
            "reduce": true,
            "refId": "A",
            "sanitize": false,
            "shapeData": [],
            "shapeProp": "id",
            "shapeRegEx": true,
            "stringThresholds": [],
            "textData": [],
            "textProp": "id",
            "textRegEx": true,
            "thresholds": [],
            "tooltip": false,
            "tooltipColors": false,
            "tooltipLabel": "",
            "tooltipOn": "a",
            "tpDirection": "v",
            "tpGraph": false,
            "tpGraphHigh": null,
            "tpGraphLow": null,
            "tpGraphScale": "linear",
            "tpGraphSize": "100%",
            "tpGraphType": "line",
            "type": "number",
            "unit": "short",
            "valueData": []
          },
          {
            "aggregation": "current",
            "alias": "domain_overview",
            "colors": [
              "rgba(50, 172, 45, 0.97)"
            ],
            "column": "Time",
            "dateFormat": "YYYY-MM-DD HH:mm:ss",
            "decimals": 2,
            "eventData": [],
            "eventProp": "id",
            "eventRegEx": false,
            "gradient": false,
            "hidden": false,
            "invert": false,
            "linkData": [
              {
                "hidden": false,
                "linkOn": "a",
                "linkParams": false,
                "linkUrl": "/d/Inte2EIWk/ucs-domain-overview?from=${__from}&to=${__to}",
                "pattern": "domain_overview"
              }
            ],
            "linkProp": "id",
            "linkRegEx": true,
            "mappingType": 1,
            "metricType": "serie",
            "order": 2,
            "overlayIcon": false,
            "pattern": "FIEnvStats.last",
            "rangeData": [],
            "reduce": true,
            "refId": "A",
            "sanitize": false,
            "shapeData": [],
            "shapeProp": "id",
            "shapeRegEx": true,
            "stringThresholds": [],
            "textData": [],
            "textProp": "id",
            "textRegEx": true,
            "thresholds": [],
            "tooltip": false,
            "tooltipColors": false,
            "tooltipLabel": "",
            "tooltipOn": "a",
            "tpDirection": "v",
            "tpGraph": false,
            "tpGraphHigh": null,
            "tpGraphLow": null,
            "tpGraphScale": "linear",
            "tpGraphSize": "100%",
            "tpGraphType": "line",
            "type": "number",
            "unit": "short",
            "valueData": []
          },
          {
            "aggregation": "current",
            "alias": "domain_traffic",
            "colors": [
              "rgba(50, 172, 45, 0.97)"
            ],
            "column": "Time",
            "dateFormat": "YYYY-MM-DD HH:mm:ss",
            "decimals": 2,
            "eventData": [],
            "eventProp": "id",
            "eventRegEx": false,
            "gradient": false,
            "hidden": false,
            "invert": false,
            "linkData": [
              {
                "hidden": false,
                "linkOn": "a",
                "linkParams": false,
                "linkUrl": "/d/W7LSukHWz/ucs-domain-traffic?from=${__from}&to=${__to}",
                "pattern": "domain_traffic"
              }
            ],
            "linkProp": "id",
            "linkRegEx": true,
            "mappingType": 1,
            "metricType": "serie",
            "order": 3,
            "overlayIcon": false,
            "pattern": "FIEnvStats.last",
            "rangeData": [],
            "reduce": true,
            "refId": "A",
            "sanitize": false,
            "shapeData": [],
            "shapeProp": "id",
            "shapeRegEx": true,
            "stringThresholds": [],
            "textData": [],
            "textProp": "id",
            "textRegEx": true,
            "thresholds": [],
            "tooltip": false,
            "tooltipColors": false,
            "tooltipLabel": "",
            "tooltipOn": "a",
            "tpDirection": "v",
            "tpGraph": false,
            "tpGraphHigh": null,
            "tpGraphLow": null,
            "tpGraphScale": "linear",
            "tpGraphSize": "100%",
            "tpGraphType": "line",
            "type": "number",
            "unit": "short",
            "valueData": []
          },
          {
            "aggregation": "current",
            "alias": "chassis",
            "colors": [
              "rgba(50, 172, 45, 0.97)"
            ],
            "column": "Time",
            "dateFormat": "YYYY-MM-DD HH:mm:ss",
            "decimals": 2,
            "eventData": [],
            "eventProp": "id",
            "eventRegEx": false,
            "gradient": false,
            "hidden": false,
            "invert": false,
            "linkData": [
              {
                "hidden": false,
                "linkOn": "a",
                "linkParams": false,
                "linkUrl": "/d/KOM8ZHNWz/ucs-chassis-traffic?from=${__from}&to=${__to}",
                "pattern": "chassis"
              }
            ],
            "linkProp": "id",
            "linkRegEx": true,
            "mappingType": 1,
            "metricType": "serie",
            "order": 4,
            "overlayIcon": false,
            "pattern": "FIEnvStats.last",
            "rangeData": [],
            "reduce": true,
            "refId": "A",
            "sanitize": false,
            "shapeData": [],
            "shapeProp": "id",
            "shapeRegEx": true,
            "stringThresholds": [],
            "textData": [],
            "textProp": "id",
            "textRegEx": true,
            "thresholds": [],
            "tooltip": false,
            "tooltipColors": false,
            "tooltipLabel": "",
            "tooltipOn": "a",
            "tpDirection": "v",
            "tpGraph": false,
            "tpGraphHigh": null,
            "tpGraphLow": null,
            "tpGraphScale": "linear",
            "tpGraphSize": "100%",
            "tpGraphType": "line",
            "type": "number",
            "unit": "short",
            "valueData": []
          },
          {
            "aggregation": "current",
            "alias": "servers",
            "colors": [
              "rgba(50, 172, 45, 0.97)"
            ],
            "column": "Time",
            "dateFormat": "YYYY-MM-DD HH:mm:ss",
            "decimals": 2,
            "eventData": [],
            "eventProp": "id",
            "eventRegEx": false,
            "gradient": false,
            "hidden": false,
            "invert": false,
            "linkData": [
              {
                "hidden": false,
                "linkOn": "a",
                "linkParams": false,
                "linkUrl": "/d/Z0M_N1vWz/service-profile-stats?from=${__from}&to=${__to}",
                "pattern": "servers"
              }
            ],
            "linkProp": "id",
            "linkRegEx": true,
            "mappingType": 1,
            "metricType": "serie",
            "order": 5,
            "overlayIcon": false,
            "pattern": "FIEnvStats.last",
            "rangeData": [],
            "reduce": true,
            "refId": "A",
            "sanitize": false,
            "shapeData": [],
            "shapeProp": "id",
            "shapeRegEx": true,
            "stringThresholds": [],
            "textData": [],
            "textProp": "id",
            "textRegEx": true,
            "thresholds": [],
            "tooltip": false,
            "tooltipColors": false,
            "tooltipLabel": "",
            "tooltipOn": "a",
            "tpDirection": "v",
            "tpGraph": false,
            "tpGraphHigh": null,
            "tpGraphLow": null,
            "tpGraphScale": "linear",
            "tpGraphSize": "100%",
            "tpGraphType": "line",
            "type": "number",
            "unit": "short",
            "valueData": []
          },
          {
            "aggregation": "current",
            "alias": "Ingress Congestion",
            "colors": [
              "rgba(50, 172, 45, 0.97)"
            ],
            "column": "Time",
            "dateFormat": "YYYY-MM-DD HH:mm:ss",
            "decimals": 2,
            "eventData": [],
            "eventProp": "id",
            "eventRegEx": false,
            "gradient": false,
            "hidden": false,
            "invert": false,
            "linkData": [
              {
                "hidden": false,
                "linkOn": "a",
                "linkParams": false,
                "linkUrl": "/d/Sve32sDZk/fi-uplink-port-ingress-congestion-monitoring?var-location=${location}&from=${__from}&to=${__to}",
                "pattern": "ingress_congestion"
              }
            ],
            "linkProp": "id",
            "linkRegEx": true,
            "mappingType": 1,
            "metricType": "serie",
            "order": 6,
            "overlayIcon": false,
            "pattern": "FIEnvStats.last",
            "rangeData": [],
            "reduce": true,
            "refId": "A",
            "sanitize": false,
            "shapeData": [],
            "shapeProp": "id",
            "shapeRegEx": true,
            "stringThresholds": [],
            "textData": [],
            "textProp": "id",
            "textRegEx": true,
            "thresholds": [],
            "tooltip": false,
            "tooltipColors": false,
            "tooltipLabel": "",
            "tooltipOn": "a",
            "tpDirection": "v",
            "tpGraph": false,
            "tpGraphHigh": null,
            "tpGraphLow": null,
            "tpGraphScale": "linear",
            "tpGraphSize": "100%",
            "tpGraphType": "line",
            "type": "number",
            "unit": "short",
            "valueData": []
          }
        ]
      },
      "targets": [
        {
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "measurement": "FIEnvStats",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT last(\"load\") FROM \"FIEnvStats\" WHERE (\"location\" =~ /^$location$/)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "load"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "last"
              }
            ]
          ],
          "tags": [
            {
              "key": "location",
              "operator": "=~",
              "value": "/^$location$/"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "transparent": true,
      "type": "agenty-flowcharting-panel",
      "valueName": "current",
      "version": "0.9.0"
    },
    {
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {},
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 24,
        "x": 0,
        "y": 5
      },
      "id": 5,
      "options": {
        "content": "\n<h2 style=\"text-align: center;\"><span style=\"color: #6666FF;\"><strong>Locations - </span><span style=\"color: #ff00ff;\"> $location</span></strong></h2>\n",
        "mode": "html"
      },
      "pluginVersion": "7.5.7",
      "targets": [
        {
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "transparent": true,
      "type": "text"
    },
    {
      "collapsed": false,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 7
      },
      "id": 119,
      "panels": [],
      "title": "Top 10 Ports and Servers in locations -  $location",
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "decimals": 2,
          "mappings": [
            {
              "id": 0,
              "op": "=",
              "text": "N/A",
              "type": 1,
              "value": "null"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-blue",
                "value": null
              }
            ]
          },
          "unit": "bps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 12,
        "x": 0,
        "y": 8
      },
      "id": 107,
      "interval": "[[polling_interval]]s",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "fieldOptions": {
          "calcs": [
            "mean"
          ]
        },
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "mean"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "7.5.7",
      "targets": [
        {
          "alias": "$col",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT sum(\"bytes_rx_delta\")  *8/ [[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"Total RX - FC\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms) fill(linear)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "$col",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT sum(\"bytes_tx_delta\")  *8/ [[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"Total TX - FC\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms) fill(linear)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "type": "stat"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "decimals": 2,
          "mappings": [
            {
              "id": 0,
              "op": "=",
              "text": "N/A",
              "type": 1,
              "value": "null"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "semi-dark-purple",
                "value": null
              }
            ]
          },
          "unit": "bps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 2,
        "w": 12,
        "x": 12,
        "y": 8
      },
      "id": 109,
      "interval": "[[polling_interval]]s",
      "links": [],
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "fieldOptions": {
          "calcs": [
            "mean"
          ]
        },
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "mean"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "7.5.7",
      "targets": [
        {
          "alias": "$col",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT sum(\"bytes_rx_delta\")  *8/ [[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"Total RX - Eth\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms) fill(linear)",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        },
        {
          "alias": "$col",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "query": "SELECT sum(\"bytes_tx_delta\")  *8/ [[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"Total TX - Eth\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms) fill(linear)",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": []
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "type": "stat"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 50
              },
              {
                "color": "red",
                "value": 75
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "RX"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "FI"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 60
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Port"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 6,
        "x": 0,
        "y": 10
      },
      "id": 99,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "RX"
          }
        ]
      },
      "pluginVersion": "7.5.7",
      "repeat": "fi_id",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"mean_last\",domain,fi_id,port,10) as \"RX\" from (SELECT (mean(\"bytes_rx_delta\") *8/ [[polling_interval]])/(last(oper_speed)*1000000000*[[fc_data_rate]])*100 FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '' and \"oper_state\" = 'up') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 FC Ports - RX",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "RX",
                "domain",
                "fi_id",
                "port"
              ]
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {},
            "renameByName": {
              "domain": "Domain",
              "fi_id": "FI",
              "port": "Port"
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 50
              },
              {
                "color": "red",
                "value": 75
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "TX"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "FI"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 60
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Port"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 6,
        "x": 6,
        "y": 10
      },
      "id": 103,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "TX"
          }
        ]
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"mean_last\",domain,fi_id,port,10) as \"TX\" from (SELECT (mean(\"bytes_tx_delta\") *8/ [[polling_interval]])/(last(oper_speed)*1000000000*[[fc_data_rate]])*100 FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '' and \"oper_state\" = 'up') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 FC Ports - TX",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "domain",
                "fi_id",
                "port",
                "TX"
              ]
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {},
            "renameByName": {
              "domain": "Domain",
              "fi_id": "FI",
              "port": "Port"
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 50
              },
              {
                "color": "red",
                "value": 75
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "RX"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "FI"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 60
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Port"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 6,
        "x": 12,
        "y": 10
      },
      "id": 111,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "RX"
          }
        ]
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"mean_last\",domain,fi_id,port,10) as \"RX\" from (SELECT (mean(\"bytes_rx_delta\") *8/ [[polling_interval]])/(last(oper_speed)*1000000000)*100 FROM \"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '' and \"oper_state\" = 'up') AND $timeFilter GROUP BY domain,fi_id,port)  where $timeFilter",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 Eth Ports - RX",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "RX",
                "domain",
                "fi_id",
                "port"
              ]
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {},
            "renameByName": {
              "domain": "Domain",
              "fi_id": "FI",
              "port": "Port"
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 50
              },
              {
                "color": "red",
                "value": 75
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "TX"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "FI"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 60
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Port"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 6,
        "x": 18,
        "y": 10
      },
      "id": 115,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "TX"
          }
        ]
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(\"mean_last\",domain,fi_id,port,10) as \"TX\" from (SELECT (mean(\"bytes_tx_delta\") *8/ [[polling_interval]])/(last(oper_speed)*1000000000)*100 FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '' and \"oper_state\" = 'up') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 Eth Ports - TX",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "domain",
                "fi_id",
                "port",
                "TX"
              ]
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {},
            "renameByName": {
              "domain": "Domain",
              "fi_id": "FI",
              "port": "Port"
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "orange",
                "value": 5000000000
              },
              {
                "color": "red",
                "value": 8000000000
              }
            ]
          },
          "unit": "bps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Service Profile"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of service profile ${__value.raw}",
                    "url": "d/Z0M_N1vWz/service-profile-stats?orgId=1&var-domain=${__data.fields[domain]}&var-service_profile=${__value.raw}&${__url_time_range}"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "RX"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 6,
        "x": 0,
        "y": 22
      },
      "id": 165,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "RX"
          }
        ]
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(sum,domain,service_profile,chassis,10) as \"RX\" from (SELECT sum(\"bytes_rx_delta\") *8/[[polling_interval]]/((([[__to]] - [[__from]])/1000)/[[polling_interval]]) FROM \"VnicStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC') AND $timeFilter GROUP BY domain,chassis,service_profile) where $timeFilter",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 Servers - RX FC",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "RX",
                "domain",
                "service_profile"
              ]
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {},
            "renameByName": {
              "domain": "Domain",
              "service_profile": "Service Profile"
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "orange",
                "value": 5000000000
              },
              {
                "color": "red",
                "value": 8000000000
              }
            ]
          },
          "unit": "bps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Service Profile"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of service profile ${__value.raw}",
                    "url": "d/Z0M_N1vWz/service-profile-stats?orgId=1&var-domain=${__data.fields[domain]}&var-service_profile=${__value.raw}&${__url_time_range}"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "TX"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 6,
        "x": 6,
        "y": 22
      },
      "id": 125,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "TX"
          }
        ]
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(sum,domain,service_profile,chassis,10) as \"TX\" from (SELECT sum(\"bytes_tx_delta\") *8/[[polling_interval]]/((([[__to]] - [[__from]])/1000)/[[polling_interval]]) FROM \"VnicStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC') AND $timeFilter GROUP BY domain,chassis,service_profile) where $timeFilter",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 Servers - TX FC",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "domain",
                "service_profile",
                "TX"
              ]
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {},
            "renameByName": {
              "domain": "Domain",
              "service_profile": "Service Profile"
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "orange",
                "value": 5000000000
              },
              {
                "color": "red",
                "value": 8000000000
              }
            ]
          },
          "unit": "bps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Service Profile"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of service profile ${__value.raw}",
                    "url": "d/Z0M_N1vWz/service-profile-stats?orgId=1&var-domain=${__data.fields[domain]}&var-service_profile=${__value.raw}&${__url_time_range}"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "RX"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 6,
        "x": 12,
        "y": 22
      },
      "id": 129,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "RX"
          }
        ]
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(sum,domain,service_profile,chassis,10) as \"RX\" from (SELECT sum(\"bytes_rx_delta\") *8/[[polling_interval]]/((([[__to]] - [[__from]])/1000)/[[polling_interval]]) FROM \"VnicStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth') AND $timeFilter GROUP BY domain,chassis,service_profile) where $timeFilter",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 Servers - RX Eth",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "RX",
                "domain",
                "service_profile"
              ]
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {},
            "renameByName": {
              "domain": "Domain",
              "service_profile": "Service Profile"
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "cacheTimeout": null,
      "datasource": "$data_source",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "left",
            "filterable": false
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "orange",
                "value": 5000000000
              },
              {
                "color": "red",
                "value": 8000000000
              }
            ]
          },
          "unit": "bps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Domain"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of UCS domain ${__value.raw}",
                    "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Service Profile"
            },
            "properties": [
              {
                "id": "links",
                "value": [
                  {
                    "targetBlank": false,
                    "title": "Detailed traffic monitoring of service profile ${__value.raw}",
                    "url": "d/Z0M_N1vWz/service-profile-stats?orgId=1&var-domain=${__data.fields[domain]}&var-service_profile=${__value.raw}&${__url_time_range}"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "TX"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "gradient-gauge"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 6,
        "x": 18,
        "y": 22
      },
      "id": 133,
      "interval": "[[polling_interval]]s",
      "links": [],
      "options": {
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "TX"
          }
        ]
      },
      "pluginVersion": "7.5.7",
      "repeatDirection": "h",
      "targets": [
        {
          "aggregation": "Last",
          "alias": "",
          "decimals": 2,
          "displayAliasType": "Warning / Critical",
          "displayType": "Regular",
          "displayValueWithAlias": "Never",
          "groupBy": [
            {
              "params": [
                "$__interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "hide": false,
          "orderByTime": "ASC",
          "policy": "default",
          "query": "select top(sum,domain,service_profile,chassis,10) as \"TX\" from (SELECT sum(\"bytes_tx_delta\") *8/[[polling_interval]]/((([[__to]] - [[__from]])/1000)/[[polling_interval]]) FROM \"VnicStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth') AND $timeFilter GROUP BY domain,chassis,service_profile) where $timeFilter",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "table",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "tags": [],
          "units": "none",
          "valueHandler": "Number Threshold"
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "Top 10 Servers - TX Eth",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "domain",
                "service_profile",
                "TX"
              ]
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {},
            "renameByName": {
              "domain": "Domain",
              "service_profile": "Service Profile"
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 34
      },
      "id": 17,
      "panels": [
        {
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "align": "center",
                "filterable": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Overview of UCS domain ${__value.raw}",
                        "url": "d/Inte2EIWk/ucs-domain-overview?orgId=1&var-domain=${__value.raw}&from=${__from}&to=${__to}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "UCSM firmware"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 163
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 10,
            "w": 12,
            "x": 0,
            "y": 9
          },
          "id": 74,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "domain"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "limit": "1",
              "measurement": "FIEnvStats",
              "orderByTime": "DESC",
              "policy": "autogen",
              "query": "SELECT \"model\" AS \"Model\", \"mode\" AS \"Mode\", \"ucsm_fw_ver\" AS \"UCSM firmware\", \"fi_fw_sys_ver\" AS \"FI System Firmware\" FROM \"$db\".\"$rp\".\"FIEnvStats\" WHERE (\"location\" =~ /^$location$/ AND \"fi_id\" = 'A') AND time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by  \"domain\" fill(null) ORDER BY time DESC LIMIT 1",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "model"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "last"
                  },
                  {
                    "params": [
                      "Model"
                    ],
                    "type": "alias"
                  }
                ],
                [
                  {
                    "params": [
                      "mode"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "last"
                  },
                  {
                    "params": [
                      "Mode"
                    ],
                    "type": "alias"
                  }
                ],
                [
                  {
                    "params": [
                      "ucsm_fw_ver"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "last"
                  },
                  {
                    "params": [
                      "UCSM firmware"
                    ],
                    "type": "alias"
                  }
                ],
                [
                  {
                    "params": [
                      "fi_fw_sys_ver"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "last"
                  },
                  {
                    "params": [
                      "FI System firmware"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "fi_id",
                  "operator": "=",
                  "value": "A"
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "UCS Domains",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "indexByName": {},
                "renameByName": {
                  "domain": "Domain"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-blue",
                    "value": null
                  },
                  {
                    "color": "semi-dark-blue"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 12,
            "x": 12,
            "y": 9
          },
          "id": 158,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "value"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms)  group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Uplink and other ports - $location",
          "type": "stat"
        },
        {
          "aliasColors": {
            "Not UP": "#eab839"
          },
          "breakPoint": "100%",
          "cacheTimeout": null,
          "combine": {
            "label": "Others",
            "threshold": 0
          },
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fontSize": "80%",
          "format": "short",
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 12,
            "y": 11
          },
          "id": 31,
          "interval": "[[polling_interval]]s",
          "legend": {
            "percentage": false,
            "show": true,
            "values": true
          },
          "legendType": "Right side",
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "connected",
          "pieType": "donut",
          "pluginVersion": "7.1.1",
          "strokeWidth": 1,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) as \"UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and oper_state = 'up' and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms)  group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) as \"Not UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and oper_state != 'up' and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms)  group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Distribution - Operational state - $location",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {}
            }
          ],
          "type": "grafana-piechart-panel",
          "valueName": "current"
        },
        {
          "aliasColors": {
            "1 Gbps": "rgb(251, 171, 24)",
            "10 Gbps": "rgb(0, 188, 235)",
            "16G": "rgb(253, 143, 159)",
            "40 Gbps": "rgb(0, 80, 115)",
            "4G": "#CA95E5",
            "8G": "rgb(252, 196, 162)"
          },
          "breakPoint": "100%",
          "cacheTimeout": null,
          "combine": {
            "label": "Others",
            "threshold": 0
          },
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fontSize": "80%",
          "format": "short",
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 18,
            "y": 11
          },
          "id": 35,
          "interval": "[[polling_interval]]s",
          "legend": {
            "percentage": false,
            "show": true,
            "values": true
          },
          "legendType": "Right side",
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "connected",
          "pieType": "donut",
          "strokeWidth": 1,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"4G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 4) and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"8G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 8) and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"16G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 16) and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"32G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 32) and $timeFilter group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Distribution - FC - Speed - $location",
          "type": "grafana-piechart-panel",
          "valueName": "current"
        },
        {
          "aliasColors": {
            "Ethernet": "#3274D9",
            "FC": "rgb(255, 123, 174)"
          },
          "breakPoint": "100%",
          "cacheTimeout": null,
          "combine": {
            "label": "Others",
            "threshold": 0
          },
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fontSize": "80%",
          "format": "short",
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 12,
            "y": 16
          },
          "id": 32,
          "interval": "[[polling_interval]]s",
          "legend": {
            "percentage": false,
            "show": true,
            "values": true
          },
          "legendType": "Right side",
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "connected",
          "pieType": "donut",
          "strokeWidth": 1,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"FC\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"transport\" = 'FC') and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"Ethernet\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"transport\" = 'Eth') and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Distribution - Transport - $location",
          "type": "grafana-piechart-panel",
          "valueName": "current"
        },
        {
          "aliasColors": {
            "1 Gbps": "#1F60C4",
            "10 Gbps": "rgb(54, 63, 132)",
            "40 Gbps": "#3274D9"
          },
          "breakPoint": "100%",
          "cacheTimeout": null,
          "combine": {
            "label": "Others",
            "threshold": 0
          },
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fontSize": "80%",
          "format": "short",
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 18,
            "y": 16
          },
          "id": 144,
          "interval": "[[polling_interval]]s",
          "legend": {
            "percentage": false,
            "show": true,
            "values": true
          },
          "legendType": "Right side",
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "connected",
          "pieType": "donut",
          "strokeWidth": 1,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"1 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 1) and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"10 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 10) and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"40 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 40) and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"25 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 25) and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Distribution - Ethernet - Speed - $location",
          "type": "grafana-piechart-panel",
          "valueName": "current"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "#299c46",
                    "value": 1
                  },
                  {
                    "color": "#299c46"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 19
          },
          "id": 3,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select count(domain) as \"# Domains\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"FIEnvStats\" WHERE \"location\" =~ /^$location$/ and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY domain) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(count) as \"# Chassis\" from (select count(distinct(chassis)) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND chassis!='') AND time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY service_profile,domain,chassis,id) group by domain) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "In $location",
          "type": "stat"
        },
        {
          "aliasColors": {
            "Other": "#eab839"
          },
          "breakPoint": "50%",
          "cacheTimeout": null,
          "combine": {
            "label": "Others",
            "threshold": 0
          },
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fontSize": "80%",
          "format": "short",
          "gridPos": {
            "h": 6,
            "w": 4,
            "x": 3,
            "y": 19
          },
          "id": 12,
          "interval": "[[polling_interval]]s",
          "legend": {
            "show": true,
            "sideWidth": null,
            "sortDesc": false,
            "values": true
          },
          "legendType": "Right side",
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "connected",
          "pieType": "donut",
          "strokeWidth": "1",
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"OK\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"oper_state\" = 'ok') AND time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY domain,chassis,server,id) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "oper_state"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Operation state - UP"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "oper_state",
                  "operator": "=",
                  "value": "ok"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"Other\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"oper_state\" != 'ok') AND time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY domain,chassis,blade,id) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "oper_state"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Other"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "oper_state",
                  "operator": "!=",
                  "value": "ok"
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Server operational state",
          "type": "grafana-piechart-panel",
          "valueName": "current"
        },
        {
          "aliasColors": {
            "Blade Servers": "#A352CC",
            "Rack Servers": "#3274D9"
          },
          "breakPoint": "50%",
          "cacheTimeout": null,
          "combine": {
            "label": "Others",
            "threshold": 0
          },
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fontSize": "80%",
          "format": "short",
          "gridPos": {
            "h": 6,
            "w": 5,
            "x": 7,
            "y": 19
          },
          "id": 2,
          "interval": "[[polling_interval]]s",
          "legend": {
            "show": true,
            "values": true
          },
          "legendType": "Right side",
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "connected",
          "pieType": "donut",
          "strokeWidth": 1,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "linear"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"Blade Servers\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"type\" = 'blade') AND time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY domain,chassis,server,id) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "model"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Number of servers"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "linear"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"Rack Servers\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"type\" = 'rack') AND time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY domain,chassis,server,id) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "model"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Number of servers"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Server types - $location",
          "type": "grafana-piechart-panel",
          "valueName": "current"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-purple",
                    "value": null
                  },
                  {
                    "color": "semi-dark-purple"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "id": 159,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "value"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '') and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Server ports - $location",
          "type": "stat"
        },
        {
          "aliasColors": {
            "Not UP": "#eab839"
          },
          "breakPoint": "50%",
          "cacheTimeout": null,
          "combine": {
            "label": "Others",
            "threshold": 0
          },
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fontSize": "100%",
          "format": "short",
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 12,
            "y": 23
          },
          "id": 29,
          "interval": "[[polling_interval]]s",
          "legend": {
            "percentage": false,
            "show": true,
            "values": true
          },
          "legendType": "Right side",
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "connected",
          "pieType": "donut",
          "strokeWidth": 1,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_state\" = 'up') and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"Not UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_state\" != 'up') and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Distribution - Operational state - $location",
          "type": "grafana-piechart-panel",
          "valueName": "current"
        },
        {
          "aliasColors": {
            "10 Gbps": "rgb(0, 188, 235)",
            "40 Gbps": "rgb(0, 80, 115)"
          },
          "breakPoint": "100%",
          "cacheTimeout": null,
          "combine": {
            "label": "Others",
            "threshold": 0
          },
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fontSize": "80%",
          "format": "short",
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 18,
            "y": 23
          },
          "id": 33,
          "interval": "[[polling_interval]]s",
          "legend": {
            "percentage": false,
            "show": true,
            "values": true
          },
          "legendType": "Right side",
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "connected",
          "pieType": "donut",
          "strokeWidth": 1,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"1 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 1) and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"10 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 10) and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"40 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 40) and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"25 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 25) and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Distribution - operational speed - $location",
          "type": "grafana-piechart-panel",
          "valueName": "current"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "#299c46"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Memory"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "mbytes"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 3,
            "w": 12,
            "x": 0,
            "y": 25
          },
          "id": 7,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "linear"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select sum(last) as \"Memory\" from (SELECT last(\"memory\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY domain,chassis,server,id) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "memory"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# CPU\" from (SELECT last(\"num_cpus\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY domain,chassis,server,id) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# Cores\"  from (SELECT last(\"num_cores\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY domain,chassis,server,id) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# vEth\" from (SELECT last(\"num_vEths\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY domain,chassis,server,id) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# vFC\" from (SELECT last(\"num_vFCs\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY domain,chassis,server,id) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "E",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Resources in $location",
          "type": "stat"
        },
        {
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "align": "center",
                "filterable": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Service Profile"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Details of service profile ${__data.fields[service_profile]}",
                        "url": "d/Z0M_N1vWz/service-profile-stats?orgId=1&var-polling_interval=${polling_interval}&var-domain=All&var-service_profile=${__data.fields[service_profile]}&var-vif=All&var-bp_port=All&from=${__from}&to=${__to}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "UCS domain ${__data.fields[Domain]} overview",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__data.fields[Domain]}&from=${__from}&to=${__to}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Chassis ID"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Details of ${__data.fields[Chassis ID]} in UCS domain ${__data.fields[Domain]}",
                        "url": "d/KOM8ZHNWz/ucs-chassis-traffic?orgId=1&var-polling_interval=${polling_interval}&var-domain=${__data.fields[Domain]}&var-chassis=${__data.fields[Chassis ID]}&from=${__from}&to=${__to}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Memory"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "mbytes"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "  "
                },
                "properties": [
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "semi-dark-orange",
                          "value": 1
                        }
                      ]
                    }
                  },
                  {
                    "id": "custom.displayMode",
                    "value": "color-background"
                  },
                  {
                    "id": "custom.width",
                    "value": 24
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "# vEth"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 75
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "# CPU"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 79
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "# Cores"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 91
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 13,
            "w": 24,
            "x": 0,
            "y": 28
          },
          "id": 38,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT location as \"Location\", domain as \"Domain\",  chassis as \"Chassis ID\", id as \"Server\", model as \"Model\", serial as \"Serial\", num_cpus as \"# CPU\", num_cores as \"# Cores\", memory as \"Memory\", operability as \"Operability\", oper_state as \"Operational State\", oper_state_code, num_vEths as \"# vEth\", num_vFCs as \"# vFC\" FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND  time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY \"service_profile\",domain,chassis,id order by time desc limit 1",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Servers",
          "transform": "table",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "service_profile",
                    "Location",
                    "Domain",
                    "Chassis ID",
                    "Server",
                    "Model",
                    "Serial",
                    "# CPU",
                    "# Cores",
                    "Memory",
                    "Operability",
                    "Operational State",
                    "oper_state_code",
                    "# vEth",
                    "# vFC"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Location": "",
                  "oper_state_code": "  ",
                  "service_profile": "Service Profile"
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "Inventory",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 35
      },
      "id": 151,
      "panels": [
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "#299c46",
                    "value": 1
                  },
                  {
                    "color": "#299c46"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 4,
            "x": 0,
            "y": 10
          },
          "id": 138,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select count(domain) as \"# Domains\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"FIEnvStats\" WHERE \"location\" =~ /^$location$/ and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms GROUP BY domain) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(count) as \"# Chassis\" from (select count(distinct(chassis)) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND chassis!='') AND $timeFilter GROUP BY time($__interval),service_profile,domain,chassis,id) group by domain) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "In $location",
          "type": "stat"
        },
        {
          "aliasColors": {
            "Blade Servers": "rgb(231, 120, 255)",
            "Rack Servers": "rgb(0, 202, 255)"
          },
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 5,
            "x": 4,
            "y": 10
          },
          "hiddenSeries": false,
          "id": 140,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "linear"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"Blade Servers\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"type\" = 'blade') AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "model"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Number of servers"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "linear"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"Rack Servers\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"type\" = 'rack') AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "model"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Number of servers"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Server types - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-blue",
                    "value": null
                  },
                  {
                    "color": "semi-dark-blue"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 10,
            "x": 9,
            "y": 10
          },
          "id": 142,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "value"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms)  group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Uplink and other ports - $location",
          "type": "stat"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-purple",
                    "value": null
                  },
                  {
                    "color": "semi-dark-purple"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 5,
            "x": 19,
            "y": 10
          },
          "id": 147,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "value"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '') and time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms group by domain,fi_id,port) where time > [[__to]]ms - [[5m_in_ms]]ms and time < [[__to]]ms",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Server ports - $location",
          "type": "stat"
        },
        {
          "aliasColors": {},
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 9,
            "y": 12
          },
          "hiddenSeries": false,
          "id": 143,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) as \"UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and oper_state = 'up' and $timeFilter) GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) as \"Not UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and oper_state != 'up' and  $timeFilter) GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FI Uplink Ports - Operational status - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {}
            }
          ],
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "1 Gbps": "light-purple",
            "10 Gbps": "dark-purple",
            "40 Gbps": "rgb(118, 0, 205)"
          },
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 14,
            "y": 12
          },
          "hiddenSeries": false,
          "id": 154,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"1 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND \"oper_speed\" = 1) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"10 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND \"oper_speed\" = 10) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"40 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND \"oper_speed\" = 40) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"25 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND \"oper_speed\" = 25) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FI Uplink Ports - Eth Speed - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 19,
            "y": 12
          },
          "hiddenSeries": false,
          "id": 152,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) as \"UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and oper_state = 'up' and $timeFilter) GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) as \"Not UP\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' and oper_state != 'up' and  $timeFilter) GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FI Server Ports - Operational status - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {}
            }
          ],
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "id": 0,
                  "op": "=",
                  "text": "N/A",
                  "type": 1,
                  "value": "null"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "#299c46"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Memory"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "mbytes"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 4,
            "x": 0,
            "y": 16
          },
          "id": 141,
          "interval": "[[polling_interval]]s",
          "links": [],
          "maxDataPoints": 100,
          "options": {
            "colorMode": "value",
            "fieldOptions": {
              "calcs": [
                "mean"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "linear"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select sum(last) as \"Memory\" from (SELECT last(\"memory\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "memory"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# CPU\" from (SELECT last(\"num_cpus\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# Cores\"  from (SELECT last(\"num_cores\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# vEth\" from (SELECT last(\"num_vEths\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(last) as \"# vFC\" from (SELECT last(\"num_vFCs\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/) AND $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "E",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Resources in $location",
          "type": "stat"
        },
        {
          "aliasColors": {},
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 5,
            "x": 4,
            "y": 16
          },
          "hiddenSeries": false,
          "id": 139,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"OK\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"oper_state\" = 'ok') AND  $timeFilter GROUP BY time($__interval),domain,chassis,server,id) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "oper_state"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Operation state - UP"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "oper_state",
                  "operator": "=",
                  "value": "ok"
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "[[polling_interval]]s"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "BladeServers",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(id) AS \"Other\" from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (\"location\" =~ /^$location$/ AND \"oper_state\" != 'ok') AND  $timeFilter GROUP BY time($__interval),domain,chassis,blade,id) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "oper_state"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "count"
                  },
                  {
                    "params": [
                      "Other"
                    ],
                    "type": "alias"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "oper_state",
                  "operator": "!=",
                  "value": "ok"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Server operational Status",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Ethernet": "#a352cc",
            "FC": "#3274d9"
          },
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 9,
            "y": 17
          },
          "hiddenSeries": false,
          "id": 145,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"FC\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"transport\" = 'FC') and  $timeFilter GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"Ethernet\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"transport\" = 'Eth') and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FI Uplink Ports - Transport - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "16G": "dark-blue"
          },
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 14,
            "y": 17
          },
          "hiddenSeries": false,
          "id": 157,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"4G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 4) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"8G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 8 ) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"16G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 16) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"32G\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"channel\" != '' AND \"oper_speed\" = 32) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where  $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FC Uplink Ports - Speed - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "1 Gbps": "light-purple",
            "10 Gbps": "dark-purple",
            "40 Gbps": "rgb(118, 0, 205)"
          },
          "bars": true,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 19,
            "y": 17
          },
          "hiddenSeries": false,
          "id": 155,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 3,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"1 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND \"oper_speed\" = 1) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"10 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND \"oper_speed\" = 10) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"40 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND \"oper_speed\" = 40) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            },
            {
              "alias": "$col",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIServerPortStats",
              "orderByTime": "ASC",
              "policy": "autogen",
              "query": "select count(last) AS \"25 Gbps\" from (SELECT last(\"oper_state\") FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/  AND \"channel\" != '' AND \"oper_speed\" = 25) and $timeFilter GROUP BY time($__interval),domain,fi_id,port) where $timeFilter GROUP BY time($__interval)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": " "
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FI Server Ports - Eth Speed - $location",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Inventory over time",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 36
      },
      "id": 22,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "Combined Ethernet TX/RX traffic across all UCS domains in $location",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 11
          },
          "hiddenSeries": false,
          "id": 19,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_rx_delta\")  *8/ [[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"RX Traffic\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_tx_delta\")  *8/ [[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"TX Traffic\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Ethernet Traffic - Total",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "Combined FC TX/RX traffic across all UCS domains in $location",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 11
          },
          "hiddenSeries": false,
          "id": 20,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_rx_delta\")  *8/ [[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"RX Traffic\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_tx_delta\")  *8/ [[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"TX Traffic\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FC Traffic - Total",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy locations, AKA top-talker and bottom-talker locations\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 19
          },
          "hiddenSeries": false,
          "id": 48,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_location",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_rx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"RX Traffic\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,location fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top Ethernet traffic - Ingress - per location breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy locations, AKA top-talker and bottom-talker locations\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 19
          },
          "hiddenSeries": false,
          "id": 46,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_location",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_rx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"RX Traffic\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,location fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top FC traffic - Ingress - per location breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy locations, AKA top-talker and bottom-talker locations\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 27
          },
          "hiddenSeries": false,
          "id": 49,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_location",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_tx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"TX Traffic\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,location fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top Ethernet traffic - Egress - per location breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy locations, AKA top-talker and bottom-talker locations\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 27
          },
          "hiddenSeries": false,
          "id": 47,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_location",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_tx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"TX Traffic\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,location fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top FC traffic - Egress - per location breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Traffic - location",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 37
      },
      "id": 63,
      "panels": [
        {
          "aliasColors": {
            "Eth RX Traffic 172.25.174.41": "light-blue",
            "LAN RX Traffic 172.25.174.41": "light-blue"
          },
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS domains, AKA top-talker and bottom-talker domains\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 12
          },
          "hiddenSeries": false,
          "id": 53,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_domain",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_rx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"RX Traffic\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,domain fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top Ethernet traffic - Ingress - per domain breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS domains, AKA top-talker and bottom-talker domains\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.\n<span style=\"color:orange\">**How to use**</span>: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or current.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 12
          },
          "hiddenSeries": false,
          "id": 51,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_domain",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_rx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"RX Traffic\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,domain fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top FC traffic - Ingress - per domain breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Eth TX Traffic 172.25.174.41": "light-blue",
            "LAN TX Traffic 172.25.174.41": "light-blue"
          },
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS domains, AKA top-talker and bottom-talker domains\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 5,
          "fillGradient": 5,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 20
          },
          "hiddenSeries": false,
          "id": 52,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_domain",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_tx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"TX Traffic\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,domain fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top Ethernet traffic - Egress - per domain breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS domains, AKA top-talker and bottom-talker domains\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 20
          },
          "hiddenSeries": false,
          "id": 50,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_domain",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_tx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"TX Traffic\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,domain fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top FC traffic - Egress - per domain breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Traffic - domain",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 38
      },
      "id": 65,
      "panels": [
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS chassis, AKA top-talker and bottom-talker chassis\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 13
          },
          "hiddenSeries": false,
          "id": 56,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_domain $tag_chassis",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_rx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"RX Traffic\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,domain,chassis fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top Ethernet traffic - Ingress - per chassis breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS chassis, AKA top-talker and bottom-talker chassis\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 13
          },
          "hiddenSeries": false,
          "id": 55,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_domain $tag_chassis",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_rx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"RX Traffic\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,domain,chassis fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top FC traffic - Ingress - per chassis breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS chassis, AKA top-talker and bottom-talker chassis\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "hiddenSeries": false,
          "id": 57,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_domain $tag_chassis",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_tx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"TX Traffic\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,domain,chassis fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top Ethernet traffic - Egress - per chassis breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy UCS chassis, AKA top-talker and bottom-talker chassis\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "hiddenSeries": false,
          "id": 54,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_domain $tag_chassis",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_tx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"TX Traffic\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,domain,chassis fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top FC traffic - Egress - per chassis breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Traffic - Chassis",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 39
      },
      "id": 67,
      "panels": [
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy service profiles, AKA top-talker and bottom-talker servers\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "hiddenSeries": false,
          "id": 60,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_service_profile",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_rx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"RX Traffic\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,domain,chassis,service_profile fill(linear)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top Eth traffic - Ingress - per service profile breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy service profiles, AKA top-talker and bottom-talker servers\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 14
          },
          "hiddenSeries": false,
          "id": 59,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_service_profile",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_rx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"RX Traffic\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,domain,chassis,service_profile fill(linear)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top FC traffic - Ingress - per service profile breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy service profiles, AKA top-talker and bottom-talker servers\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 22
          },
          "hiddenSeries": false,
          "id": 61,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_service_profile",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_tx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"TX Traffic\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,domain,chassis,service_profile fill(linear)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top Eth traffic - Egress - per service profile breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Most and least busy service profiles, AKA top-talker and bottom-talker servers\n\n**How to use**: Monitor the traffic pattern over time in the graph. Sort by clicking on the avg or max.",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 22
          },
          "hiddenSeries": false,
          "id": 58,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_transport $col $tag_service_profile",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"bytes_tx_delta\") *8/[[polling_interval]]/([[__interval_ms]]/([[polling_interval]] * 1000)) AS \"TX Traffic\" FROM \"$db\".\"$rp\".\"VnicStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport,domain,chassis,service_profile fill(linear)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Top FC traffic - Egress - per service profile breakdown",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Traffic - Service Profile",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 40
      },
      "id": 92,
      "panels": [
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FCS"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 0,
            "y": 15
          },
          "id": 168,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeat": "fi_id",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"FCS\",domain,fi_id,port,10) as \"FCS\" from (SELECT sum(\"fcs_delta\") as \"FCS\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 Eth Uplink Ports - FCS",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FCS"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Out Discards"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 6,
            "y": 15
          },
          "id": 169,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"Out Discards\",domain,fi_id,port,10) as \"Out Discards\" from (SELECT sum(\"out_discard_delta\") as \"Out Discards\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 Eth Uplink Ports - Out Discards",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "Out Discards"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC CRC"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 12,
            "y": 15
          },
          "id": 172,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,fi_id,port,10) as \"FC CRC\" from (SELECT sum(\"crc_rx_delta\")  FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FC Uplink Ports - CRC",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FC CRC"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC RX Discards"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 18,
            "y": 15
          },
          "id": 173,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,fi_id,port,10) as \"FC RX Discards\" from (SELECT sum(\"discard_rx_delta\")  FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FC Uplink Ports - RX Discards",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FC RX Discards"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FCS"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 0,
            "y": 27
          },
          "id": 170,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"FCS\",domain,fi_id,port,10) as \"FCS\" from (SELECT sum(\"fcs_delta\") as \"FCS\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 Eth Server Ports - FCS",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FCS"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Out Discards"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 6,
            "y": 27
          },
          "id": 171,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"Out Discards\",domain,fi_id,port,10) as \"Out Discards\" from (SELECT sum(\"out_discard_delta\") as \"Out Discards\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 Eth Server Ports - Out Discards",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "Out Discards"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC TX Discards"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 12,
            "y": 27
          },
          "id": 174,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,fi_id,port,10) as \"FC TX Discards\" from (SELECT sum(\"discard_tx_delta\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FC Uplink Ports - TX Discards",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FC TX Discards"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC Link Failure"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 18,
            "y": 27
          },
          "id": 175,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,fi_id,port,10) as \"FC Link Failure\" from (SELECT sum(\"link_failures_delta\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FC Uplink Ports - Link Failure",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FC Link Failure"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 0,
            "y": 39
          },
          "hiddenSeries": false,
          "id": 166,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": false,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"fcs_delta\") AS \"FCS on Uplink Ports\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"out_discard_delta\") AS \"Out Discards on Uplink Ports\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"fcs_delta\") AS \"FCS on Server Ports\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"out_discard_delta\") AS \"Out Discards on Server Ports\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'Eth' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Ethernet CRC, Discards, etc.",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "decimals": 0,
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 6,
            "y": 39
          },
          "hiddenSeries": false,
          "id": 24,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": false,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"crc_rx_delta\") AS \"RX CRC\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"discard_rx_delta\") AS \"RX Discards\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"discard_tx_delta\") AS \"TX Discards\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"link_failures_delta\") AS \"Link Failures\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"signal_losses_delta\") AS \"Signal losses\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "E",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            },
            {
              "alias": "$col $tag_transport",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "SELECT sum(\"sync_losses_delta\")  AS \"Sync losses\" FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ AND \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY time([[__interval_ms]]ms),transport fill(linear)",
              "rawQuery": true,
              "refId": "F",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "FC CRC, Discards, etc. on Uplink Ports",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC Signal Loss"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 12,
            "y": 39
          },
          "id": 176,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,fi_id,port,10) as \"FC Signal Loss\" from (SELECT sum(\"signal_losses_delta\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FC Uplink Ports - Signal Loss",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FC Signal Loss"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "cacheTimeout": null,
          "datasource": "$data_source",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-BlYlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "FC Sync Failure"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": false,
                        "title": "Traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/W7LSukHWz/ucs-domain-traffic?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "FI"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 60
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Port"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 80
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 6,
            "x": 18,
            "y": 39
          },
          "id": 177,
          "interval": "[[polling_interval]]s",
          "links": [],
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "FCS"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "repeatDirection": "h",
          "targets": [
            {
              "aggregation": "Last",
              "alias": "",
              "decimals": 2,
              "displayAliasType": "Warning / Critical",
              "displayType": "Regular",
              "displayValueWithAlias": "Never",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"sum\",domain,fi_id,port,10) as \"FC Sync Failure\" from (SELECT sum(\"sync_losses_delta\") FROM \"$db\".\"$rp\".\"FIUplinkPortStats\" WHERE (\"location\" =~ /^$location$/ and \"transport\" = 'FC' AND \"channel\" != '') AND $timeFilter GROUP BY domain,fi_id,port) where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [],
              "units": "none",
              "valueHandler": "Number Threshold"
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Top 10 FC Uplink Ports - Sync Loss",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "fi_id",
                    "port",
                    "FC Sync Failure"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "FCS": 3,
                  "domain": 0,
                  "fi_id": 1,
                  "port": 2
                },
                "renameByName": {
                  "domain": "Domain",
                  "fi_id": "FI",
                  "port": "Port"
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "Errors",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$data_source",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 41
      },
      "id": 70,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Monitor congestion against ingress traffic. \n\n![Server Ports RX PAUSE](/public/img/utm/fi_server_port_rx_pause.png)\n\n**How to use**:  This is the sum of the RX PAUSE frames received on the FI Server Ports in a location. These PAUSE frames are sent by the connected devices (FEX, IOM, or Servers) when they must apply back pressure on the incoming traffic. *Note*: Server Ingress traffic is TX for FI Server Ports and RX for FI Uplink Ports.\n\nPAUSE frames may be exchanged under normal conditions also. So, find unusual PAUSE frame activity with below symptoms (not an exhaustive list):\n- PAUSE frame rate in tens or hundreds per second is bad. Thousands, tens-of-thousands, or Millions per second is terribly bad.\n- Look for spike in PAUSE frame rate. Low stable values are probably fine.\n- Does one among many others has higher PAUSE frame activity?\n\nOnce you have a suspect location,  continue digging further into location > Domain > FI > FEX/IOM/Chassis > Service profile. You can also go to the Detailed Congestion Monitoring dashboard.\n\n**Details**: \n- A server sends PAUSE frames if it is unable to receive the traffic at the ingress rate. These frames are reported as RX PAUSE on the connected port (on FI or FEX or IOM). \n- PAUSE frames are used for FC traffic only (no-drop class). Congestion in Eth traffic is generally indicated by frame drops.\n",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "hiddenSeries": false,
          "id": 68,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": null,
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 1,
          "points": true,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_location",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(\"PAUSE against Ingress Traffic\") as \"PAUSE against Ingress Traffic\" from (SELECT non_negative_difference(mean(\"pause_rx\"))/elapsed(mean(\"pause_rx\"),1s) AS \"PAUSE against Ingress Traffic\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE \"location\" =~ /^$location$/ AND $timeFilter GROUP BY time($__interval),location,domain,fi_id,port) where $timeFilter GROUP BY time($__interval),location",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "PAUSE against Ingress traffic (RX Pause) on server ports",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Monitor congestion against egress traffic. \n\n![Server Ports TX PAUSE](/public/img/utm/fi_server_port_tx_pause.png)\n\n**How to use**:  This is the sum of the TX PAUSE frames sent on the FI Server Ports in a location. These PAUSE frames are sent to the connected devices (FEX, IOM or Servers) when the backpressure must be applied against the outgoing traffic. *Note*: Server egress traffic is RX for FI Server Ports and TX for FI Uplink Ports.\n\nPAUSE frames may be exchanged under normal conditions also. So, find unusual PAUSE frame activity with below symptoms (not an exhaustive list):\n- PAUSE frame rate in tens or hundreds per second is bad. Thousands, tens-of-thousands, or Millions per second is terribly bad.\n- Look for spike in PAUSE frame rate. Low stable values are probably fine.\n- Does one among many others has higher PAUSE frame activity?\n\nOnce you have a suspect location,  continue digging further into location > Domain > FI > FEX/IOM/Chassis > Service profile. You can also go to the Detailed Congestion Monitoring dashboard.\n\n**Details**: \n- A server receives PAUSE frames if it is transmitting data faster than the receiver can accept it. These frames are reported as TX PAUSE on the connected port (on FI or FEX or IOM). \n- PAUSE frames are used for FC traffic only (no-drop class). Congestion in Eth traffic is generally indicated by frame drops.\n",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "hiddenSeries": false,
          "id": 79,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 1,
          "points": true,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_location",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(\"PAUSE against Egress Traffic\") as \"PAUSE against Egress Traffic\" from (SELECT non_negative_difference(mean(\"pause_tx\"))/elapsed(mean(\"pause_rx\"),1s) AS \"PAUSE against Egress Traffic\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE \"location\" =~ /^$location$/ AND $timeFilter GROUP BY time($__interval),location,domain,fi_id,port) where $timeFilter GROUP BY time($__interval),location",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "PAUSE against Egress traffic (TX Pause) on server ports",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Monitor congestion against ingress traffic. \n\n![Server Ports RX PAUSE](/public/img/utm/fi_server_port_rx_pause.png)\n\n**How to use**:  This is the sum of the RX PAUSE frames received on the FI Server Ports in a UCS domain. These PAUSE frames are sent by the connected devices (FEX, IOM, or Servers) when they must apply back pressure on the incoming traffic. *Note*: Server Ingress traffic is TX for FI Server Ports and RX for FI Uplink Ports.\n\nPAUSE frames may be exchanged under normal conditions also. So, find unusual PAUSE frame activity with below symptoms (not an exhaustive list):\n- PAUSE frame rate in tens or hundreds per second is bad. Thousands, tens-of-thousands, or Millions per second is terribly bad.\n- Look for spike in PAUSE frame rate. Low stable values are probably fine.\n- Does one among many others has higher PAUSE frame activity?\n\nOnce you have a suspect location,  continue digging further into location > Domain > FI > FEX/IOM/Chassis > Service profile. You can also go to the Detailed Congestion Monitoring dashboard.\n\n**Details**: \n- A server sends PAUSE frames if it is unable to receive the traffic at the ingress rate. These frames are reported as RX PAUSE on the connected port (on FI or FEX or IOM). \n- PAUSE frames are used for FC traffic only (no-drop class). Congestion in Eth traffic is generally indicated by frame drops.\n",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 24
          },
          "hiddenSeries": false,
          "id": 163,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 1,
          "points": true,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_location $tag_domain",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(\"PAUSE against Ingress Traffic\") as \"PAUSE against Ingress Traffic\" from (SELECT non_negative_difference(mean(\"pause_rx\"))/elapsed(mean(\"pause_rx\"),1s) AS \"PAUSE against Ingress Traffic\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE \"location\" =~ /^$location$/ AND $timeFilter GROUP BY time($__interval),location,domain,fi_id,port) where $timeFilter GROUP BY time($__interval),location,domain",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "PAUSE against Ingress traffic (RX Pause) on server ports",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$data_source",
          "description": "**Use Case**: Monitor congestion against egress traffic. \n\n![Server Ports TX PAUSE](/public/img/utm/fi_server_port_tx_pause.png)\n\n**How to use**:  This is the sum of the TX PAUSE frames sent on the FI Server Ports in a UCS domain. These PAUSE frames are sent to the connected devices (FEX, IOM or Servers) when the backpressure must be applied against the outgoing traffic. *Note*: Server egress traffic is RX for FI Server Ports and TX for FI Uplink Ports.\n\nPAUSE frames may be exchanged under normal conditions also. So, find unusual PAUSE frame activity with below symptoms (not an exhaustive list):\n- PAUSE frame rate in tens or hundreds per second is bad. Thousands, tens-of-thousands, or Millions per second is terribly bad.\n- Look for spike in PAUSE frame rate. Low stable values are probably fine.\n- Does one among many others has higher PAUSE frame activity?\n\nOnce you have a suspect location,  continue digging further into location > Domain > FI > FEX/IOM/Chassis > Service profile. You can also go to the Detailed Congestion Monitoring dashboard.\n\n**Details**: \n- A server receives PAUSE frames if it is transmitting data faster than the receiver can accept it. These frames are reported as TX PAUSE on the connected port (on FI or FEX or IOM). \n- PAUSE frames are used for FC traffic only (no-drop class). Congestion in Eth traffic is generally indicated by frame drops.\n",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 24
          },
          "hiddenSeries": false,
          "id": 164,
          "interval": "[[polling_interval]]s",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "max",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.5.7",
          "pointradius": 1,
          "points": true,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_location $tag_domain",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "FIUplinkPortStats",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select sum(\"PAUSE against Egress Traffic\") as \"PAUSE against Egress Traffic\" from (SELECT non_negative_difference(mean(\"pause_tx\"))/elapsed(mean(\"pause_rx\"),1s) AS \"PAUSE against Egress Traffic\" FROM \"$db\".\"$rp\".\"FIServerPortStats\" WHERE \"location\" =~ /^$location$/ AND $timeFilter GROUP BY time($__interval),location,domain,fi_id,port) where $timeFilter GROUP BY time($__interval),location,domain",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "bytes_rx_delta"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "sum"
                  },
                  {
                    "params": [
                      " *8/ [[polling_interval]]"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "location",
                  "operator": "=~",
                  "value": "/^$location$/"
                },
                {
                  "condition": "AND",
                  "key": "transport",
                  "operator": "=",
                  "value": "Eth"
                },
                {
                  "condition": "AND",
                  "key": "channel",
                  "operator": "!=",
                  "value": "''"
                }
              ]
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "PAUSE against Egress traffic (TX Pause) on server ports",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "datasource": null,
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-YlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/PAUSE/"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Service Profile"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Detailed traffic monitoring of service profile ${__value.raw}",
                        "url": "d/Z0M_N1vWz/service-profile-traffic?orgId=1&var-domain=${__data.fields[domain]}&var-service_profile=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Detailed traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/Sve32sDZk/congestion-monitoring?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 12,
            "x": 0,
            "y": 32
          },
          "id": 161,
          "interval": "[[polling_interval]]",
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "PAUSE Against Ingress Traffic"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"PAUSE against Ingress Traffic\",domain,peer_service_profile,10) as \"PAUSE sent by servers\" from (select sum(\"PAUSE against Ingress Traffic\") as \"PAUSE against Ingress Traffic\" from (SELECT non_negative_difference(mean(\"pause_rx\"))/elapsed(mean(\"pause_rx\"),1s) AS \"PAUSE against Ingress Traffic\" FROM \"$db\".\"$rp\".\"BackplanePortStats\" WHERE $timeFilter GROUP BY time($__interval),domain,fi_id,bp_port,peer_service_profile) where $timeFilter and peer_service_profile != 'Unknown' GROUP BY domain,peer_service_profile)  where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Top 10 Servers - Congestion Against Ingress Traffic",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "peer_service_profile",
                    "PAUSE sent by servers"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "PAUSE against Ingress Traffic": 2,
                  "domain": 1,
                  "peer_service_profile": 0
                },
                "renameByName": {
                  "domain": "Domain",
                  "peer_service_profile": "Service Profile"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": null,
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-YlRd"
              },
              "custom": {
                "align": "left",
                "filterable": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/PAUSE/"
                },
                "properties": [
                  {
                    "id": "custom.displayMode",
                    "value": "gradient-gauge"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Service Profile"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Detailed traffic monitoring of service profile ${__value.raw}",
                        "url": "d/Z0M_N1vWz/service-profile-stats?orgId=1&var-domain=${__data.fields[domain]}&var-service_profile=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Domain"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Detailed traffic monitoring of UCS domain ${__value.raw}",
                        "url": "d/Sve32sDZk/congestion-monitoring?orgId=1&var-domain=${__value.raw}&${__url_time_range}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 12,
            "x": 12,
            "y": 32
          },
          "id": 162,
          "interval": "[[polling_interval]]",
          "options": {
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "PAUSE Against Ingress Traffic"
              }
            ]
          },
          "pluginVersion": "7.5.7",
          "targets": [
            {
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "orderByTime": "ASC",
              "policy": "default",
              "query": "select top(\"PAUSE against Egress Traffic\",domain,peer_service_profile,10) as \"PAUSE sent to servers\" from (select sum(\"PAUSE against Egress Traffic\") as \"PAUSE against Egress Traffic\" from (SELECT non_negative_difference(mean(\"pause_tx\"))/elapsed(mean(\"pause_tx\"),1s) AS \"PAUSE against Egress Traffic\" FROM \"$db\".\"$rp\".\"BackplanePortStats\" WHERE $timeFilter GROUP BY time($__interval),domain,fi_id,bp_port,peer_service_profile) where $timeFilter and peer_service_profile != 'Unknown' GROUP BY domain,peer_service_profile)  where $timeFilter",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "table",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "title": "Top 10 Servers - Congestion Against Egress Traffic",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "domain",
                    "peer_service_profile",
                    "PAUSE sent to servers"
                  ]
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "PAUSE against Ingress Traffic": 2,
                  "domain": 1,
                  "peer_service_profile": 0
                },
                "renameByName": {
                  "domain": "Domain",
                  "peer_service_profile": "Service Profile"
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "Congestion monitoring",
      "type": "row"
    }
  ],
  "refresh": false,
  "schemaVersion": 27,
  "style": "dark",
  "tags": [
    "cisco",
    "UCS"
  ],
  "templating": {
    "list": [
      {
        "description": null,
        "error": null,
        "hide": 2,
        "label": "Database",
        "name": "db",
        "query": "telegraf",
        "skipUrlSync": false,
        "type": "constant"
      },
      {
        "description": null,
        "error": null,
        "hide": 2,
        "label": "Retention Policy",
        "name": "rp",
        "query": "autogen",
        "skipUrlSync": false,
        "type": "constant"
      },
      {
        "current": {
          "selected": false,
          "text": "InfluxDB",
          "value": "InfluxDB"
        },
        "description": null,
        "error": null,
        "hide": 0,
        "includeAll": false,
        "label": "Data Source",
        "multi": false,
        "name": "data_source",
        "options": [],
        "query": "influxdb",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "allValue": null,
        "current": {
          "selected": false,
          "text": "All",
          "value": "$__all"
        },
        "datasource": "$data_source",
        "definition": "show tag values from \"$db\".\"$rp\".\"Servers\" with key=location where $timeFilter",
        "description": null,
        "error": null,
        "hide": 0,
        "includeAll": true,
        "label": "Location",
        "multi": false,
        "name": "location",
        "options": [],
        "query": "show tag values from \"$db\".\"$rp\".\"Servers\" with key=location where $timeFilter",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "description": null,
        "error": null,
        "hide": 2,
        "label": null,
        "name": "polling_interval",
        "query": "60.0",
        "skipUrlSync": false,
        "type": "constant"
      },
      {
        "allValue": null,
        "current": {
          "isNone": true,
          "selected": false,
          "text": "None",
          "value": ""
        },
        "datasource": "$data_source",
        "definition": "select count(domain) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"FIEnvStats\" WHERE $timeFilter GROUP BY domain)",
        "description": null,
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "num_domain",
        "options": [],
        "query": "select count(domain) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"FIEnvStats\" WHERE $timeFilter GROUP BY domain)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "current": {
          "isNone": true,
          "selected": false,
          "text": "None",
          "value": ""
        },
        "datasource": "$data_source",
        "definition": "select sum(count) from (select count(distinct(chassis)) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (chassis!='') AND $timeFilter GROUP BY service_profile,domain,chassis,id) group by domain)",
        "description": null,
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "num_chassis",
        "options": [],
        "query": "select sum(count) from (select count(distinct(chassis)) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE (chassis!='') AND $timeFilter GROUP BY service_profile,domain,chassis,id) group by domain)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "current": {
          "isNone": true,
          "selected": false,
          "text": "None",
          "value": ""
        },
        "datasource": "$data_source",
        "definition": "select count(id) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE $timeFilter GROUP BY domain,chassis,type,id)",
        "description": null,
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "num_servers",
        "options": [],
        "query": "select count(id) from (SELECT last(\"model\") FROM \"$db\".\"$rp\".\"Servers\" WHERE $timeFilter GROUP BY domain,chassis,type,id)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "current": {
          "selected": false,
          "text": "6",
          "value": "6"
        },
        "datasource": "$data_source",
        "definition": " SHOW TAG VALUES CARDINALITY FROM \"$db\".\"$rp\".\"FIEnvStats\" WITH KEY=location",
        "description": null,
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "num_locations",
        "options": [],
        "query": " SHOW TAG VALUES CARDINALITY FROM \"$db\".\"$rp\".\"FIEnvStats\" WITH KEY=location",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "description": null,
        "error": null,
        "hide": 2,
        "label": null,
        "name": "fc_data_rate",
        "query": "0.85",
        "skipUrlSync": false,
        "type": "constant"
      },
      {
        "description": null,
        "error": null,
        "hide": 2,
        "label": null,
        "name": "5m_in_ms",
        "query": "300000",
        "skipUrlSync": false,
        "type": "constant"
      },
      {
        "allValue": null,
        "current": {
          "isNone": true,
          "selected": false,
          "text": "None",
          "value": ""
        },
        "datasource": "${data_source}",
        "definition": "select last(utm_collector_ver) from \"$db\".\"$rp\".\"FIEnvStats\"",
        "description": null,
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "utm_collector_ver",
        "options": [
          {
            "isNone": true,
            "selected": true,
            "text": "None",
            "value": ""
          }
        ],
        "query": "select last(utm_collector_ver) from \"$db\".\"$rp\".\"FIEnvStats\"",
        "refresh": 0,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      }
    ]
  },
  "time": {
    "from": "now-6h",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "Locations",
  "uid": "ri2OFp4Wz",
  "version": 41
}